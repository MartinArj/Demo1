create table StudDetails(StudId int not null identity(1,1) primary key,Class int not null,Section varchar(2) not null,Year varchar(4)not null,Name varchar(25)not null,DateOfBirth varchar(10)not null,Blood_Group varchar(3),isactive bit default 1 )
create table _Address(studid int foreign key references studdetails(studid) primary key,DoorNo Varchar(5) not null,Street varchar(25) not null,Village varchar(25) not null,City varchar(20)not null,State varchar(20) not null,Pin_Code varchar(6) not null,Mobile_Number varchar(13) not null,Mail_Id varchar(50) not null) 
create table ClassDetails(Class int,Section varchar(2),Primary key(Class,Section),Isactive bit default 1 )
create table StaffMobile_Number(StaffId int not null foreign key references StaffDetails(StaffId),Mobile_Number varchar(13),mtype varchar(10) not null,primary key(StaffId,Mobile_Number))
create table StaffAddress(StaffId int not null foreign key references StaffDetails(StaffId),DoorNo Varchar(5) not null,Street varchar(25) not null,Village varchar(25) not null,City varchar(20)not null,State varchar(20) not null,Pin_Code varchar(6) not null,Mail_Id varchar(50) not null,AddressType bit default 1,primary key(StaffId,AddressType)) 

create table StaffDetails(StaffId int not null primary key identity(1,1),Name varchar(25) not null,dob varchar(10),Qualification varchar(25)not null,JoiningYear varchar(4),PreviousExperience varchar(2))
create table Class(class int primary key CONSTRAINT chk_class CHECK (class <= 12))
create table SubjectDetails(SubjectId int not null Primary key identity(1,1),Class int foreign key references Class(Class),SubjectName varchar(20)not null)
create table SubAndStaffRelation(SubjectId int  foreign key references SubjectDetails(SubjectId),class int ,Section varchar(2),Year varchar(4),foreign key(Class,Section) references ClassDetails(Class,Section),StaffId int foreign key references StaffDetails(StaffId),isclassteacher bit,primary key(staffid,class,section,year,subjectid))
create table StudentMarks(StudId int not null foreign key references studdetails(studid),Class int not null,Section varchar(2)not null,Year varchar(4) not null,SubjectId int  foreign key references SubjectDetails(SubjectId),examid int foreign key references ExamType(ExamId),Name varchar(25) ,Mark float,primary key(StudId,Class,Section,Year,SubjectId,Examid))
create table ExamType(ExamId int not null identity(1,1) unique,class int foreign key references Class(class),ExamType varchar(25) not null,maxmark float,primary key(class,examtype,maxmark))

create table classStud(year varchar(4) not null,studid int not null foreign key references studdetails(studid),primary key(year,studid),class int not null,section varchar(2))

select * from studdetails
select * from _address


drop table   StudentMarks
insert into class values(1)
insert into class values(2);
insert into class values(3)
insert into class values(4);
insert into class values(5)
insert into class values(6);
insert into class values(7)
insert into class values(8);
insert into class values(9)
insert into class values(10);
insert into class values(11)
insert into class values(12)
insert into class values(1);
